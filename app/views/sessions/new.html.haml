!!!
%html{:lang => "en", "xml:lang" => "en", :xmlns => "http://www.w3.org/1999/xhtml"}
  %head
    %meta{:content => "text/html; charset=iso-8859-1", "http-equiv" => "Content-Type"}/
    %title Gigaworx - Login
    = stylesheet_link_tag "style"
    %script{:src => "javascripts/curvy.js", :type => "text/javascript"}
    :javascript
      $(document).ready(function () {
      
          //select all the a tag with name equal to modal
          $('a[name=modal]').click(function (e) {
              //Cancel the link behavior
              e.preventDefault();
      
              //Get the A tag
              var id = $(this).attr('href');
      
              //Get the screen height and width
              var maskHeight = $(document).height();
              var maskWidth = $(window).width();
      
              //Set heigth and width to mask to fill up the whole screen
              $('#mask').css({
                  'width': maskWidth,
                  'height': maskHeight
              });
      
              //transition effect		
              $('#mask').fadeIn(1000);
              $('#mask').fadeTo("slow", 0.8);
      
              //Get the window height and width
              var winH = $(window).height();
              var winW = $(window).width();
      
              //Set the popup window to center
              $(id).css('top', winH / 2 - $(id).height() / 2);
              $(id).css('left', winW / 2 - $(id).width() / 2);
      
              //transition effect
              $(id).fadeIn(2000);
      
          });
      
          //if close button is clicked
          $('.window .close').click(function (e) {
              //Cancel the link behavior
              e.preventDefault();
      
              $('#mask').fadeOut(200);
              $('.window').fadeOut(200);
          });
      
          //if mask is clicked
          $('#mask').click(function () {
              $(this).hide();
              $('.window').fadeOut(200);
          });
      
      });
      
    :css
      body{background:#fff}
      /* simple css-based tooltip */
      .tooltip {
      	background:#000;
      	border:1px solid #fff;
      	padding:10px 15px;
      	width:auto;
      	display:none;
      	color:#fff;
      	text-align:left;
      	font-size:12px;
      	border:1px solid #999999; 
      	-moz-border-radius: 6px;
      	-webkit-border-radius: 6px;
      	/* outline radius for mozilla/firefox only */
      /*	-moz-box-shadow:0 0 10px #000;
      	-webkit-box-shadow:0 0 10px #000;*/
      }
      #login_wrapper{
      	width:322px;
      	margin:100px auto;
      	overflow:hidden;
      }
      #loging_form{
      	
      
      	width:320px;
      	background:#fff !important;
      	margin-top:-5px;
      	padding-bottom:20px;
      	}
      .head_login{
      	width:320px;
      	height:41px;
      	line-height:41px;
      	text-indent:30px;
        display:none;
      	overflow:hidden;font-weight:700
      	
      }
      .head_login span{ background:url(images/secured_ico.gif) no-repeat; padding-left:15px}
      #loging_form .form_block_two{
      	margin-top:10px;
      	}
      
      #loging_form .inner_login_wrap{
      	width:294px;
      	float:left;
      	margin:20px 30px;
      }
      #loging_form h1{
      	font-size:24px;
      	font-weight:700;
      }
      #loging_form .sign_submit{
      	width:78px;
      	height:32px;
      	background:url(images/signin_bg.png) no-repeat;
      	margin-left:0;
      	color:#fff;
      	font-weight:700;
      	cursor:pointer
      }
      #loging_form .sign_submit:hover{ background:url(/images/signin_bg_hover.png) no-repeat}
      #loging_form .form_block_two span{ font-size:12px; color:#464646; padding-right:60px}
      #mask {
        position:absolute;
        left:0;
        top:0;
        z-index:9000;
        background-color:#000;
        display:none;
      }
      #mask {
        position:absolute;
        left:0;
        top:0;
        z-index:9000;
        background-color:#464646;
        display:none;
      }
        
      .window {
        position:absolute;
        left:0;
        top:0;
        width:440px;
        height:200px;
        display:none;
        z-index:9999;
        padding:20px;
      }
      
      #dialog {
        width:375px; 
        height:203px;
        padding:10px;
        -moz-border-radius: 15px;
        -khtml-border-radius: 15px;
        -webkit-border-radius: 15px;
      	background:#464646;
      	
      }
      .inner_block_modal{
      	width:375px;
      	height:203px;
      	background:#fff;
      	-moz-border-radius: 8px;
      	-khtml-border-radius: 8px;
      	-webkit-border-radius: 8px;
      	color:#000;
      /*	border:1px solid #a0a0a0*/
      }
      #dialog2 {
        width:375px; 
        height:203px;
        padding:10px;
        -moz-border-radius: 6px;
        -khtml-border-radius: 6px;
        -webkit-border-radius: 6px;
      	background:#000;
      	
      }
      .inner_block_modal_1{
      /*	width:375px;
      	height:203px;
      	background:#464646;
      	-moz-border-radius: 8px;
      	-khtml-border-radius: 8px;
      	-webkit-border-radius: 8px;
      	color:#fff*/
      }
      .inner_block_modal p{ padding:10px;}
      
      #dialog2 {
        background:url(/images/notice.png) no-repeat 0 0 transparent; 
        width:326px; 
        height:229px;
        padding:50px 0 20px 25px;
      }
      .close{ display:block; width:32px; height:32px; background:url(/images/close.png) no-repeat; position:absolute; top:-10px; right:-10px}  
      
      #dialog2 {
        background:url(/images/notice.png) no-repeat 0 0 transparent; 
        width:326px; 
        height:229px;
        padding:50px 0 20px 25px;
      }
      #dialog2{ width:300px; height:auto; padding:10px 30px 10px 10px;-moz-border-radius: 6px;
        -khtml-border-radius: 6px;
        -webkit-border-radius: 6px;
      	background:#000;/*border:1px solid #a0a0a0*/}
      .close_small{ display:block; width:15px; height:15px; background:url(/images/small_close_icon.png) ;position:absolute; no-repeat;top:10px; right:10px}
  %body
    - if request.subdomain != 'worx'
      %span{:style => "position:absolute;left:50%;margin-left:-150px;top:10px"}

        - if get_logo("#{request.subdomain}") != '/logos/normal/missing.png'
          = image_tag (get_logo("#{request.subdomain}"))
    / Start of Sticky Note
    - unless flash.empty?
      #flashes
        - flash.each do |type, msg|
          %div{:class=>"#{type}"}= h msg
        -flash.clear
    #dialog1.window
      .d-header
        %input{:onclick => "this.value=''", :type => "text", :value => "username"}/
        %br/
        %input{:onclick => "this.value=''", :type => "password", :value => "Password"}/
      .d-blank
      .d-login
        %input{:alt => "Login", :src => "/images/login-button.png", :title => "Login", :type => "image"}/
    - user_name_or_email = params[:session][:user_name_or_email] if params[:session]
    = form_for :session, :url => sign_in_url do |f| 
      / Lead form start
      #login_wrapper{:style => "margin-top:150px"}
        .head_login
          %span Secured Connexion
        #loging_form.fl_left
          .inner_login_wrap
            %h1 Please Sign In
            / First Name
            .form_block_two.fl_left
              %label.fl_left.text_indent Your Email
              %br.clear_all/
              %label.fl_left.input_width_12
                = f.text_field :user_name_or_email, :value => user_name_or_email
              .clear_all
              .error_msg dd
            / First Name end
            .clear_all
            / Email
            .form_block_two.fl_left.mag_non
              %label.fl_left.text_indent{:style => "width:260px;"}
                %span Your Password
                %a{:href => "#", :style => "font-size:11px"} I forgot my password
              %br.clear_all/
              %label.fl_left.input_width_12
                = f.password_field :password
              .clear_all
              .error_msg dd
            / Email end
            .clear_all
            .form_block_two.fl_left.mag_non
              %label.fl_left.text_indent{:style => "width:250px"}
                = f.check_box :remember_me
              %br.clear_all/
              %label.fl_left.input_width_12{:style => "background:none"}
                %input.sign_submit{:type => "submit", :value => "Sign in"}/
          .clear_all
          / Lead form end
    / Mask to cover the whole screen
    #mask